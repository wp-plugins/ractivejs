!function(e,t){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)t(require("ractive"));else if("function"==typeof define&&define.amd)define(["ractive"],t);else{if(!e.Ractive)throw new Error("Could not find Ractive! It must be loaded before the ractive-events-viewport plugin");t(e.Ractive)}}("undefined"!=typeof window?window:this,function(e){"use strict";var t=function(e,t){function n(e){return i(e)&&o(e)}function i(e){for(var t,n=e.getBoundingClientRect(),i=!0;e&&e.parentNode&&e.parentNode.getBoundingClientRect&&i;)e=e.parentNode,t=e.getBoundingClientRect(),i=r(t,n);return i}function o(e){var t=e.getBoundingClientRect();return r({top:0,left:0,bottom:window.innerHeight||document.documentElement.clientHeight,right:window.innerWidth||document.documentElement.clientWidth},t)}function r(e,t){return t.top<e.bottom&&t.bottom>e.top&&t.left<e.right&&t.right>e.left}var u=300;return function(i){window.setInterval(function(){var o=n(e);o!=i&&(t({node:e,original:{visible:o,previous:i,current:o}}),i=o)},u)}(),{teardown:function(){window.clearInterval(inViewport)}}};e.events.viewport=t});
