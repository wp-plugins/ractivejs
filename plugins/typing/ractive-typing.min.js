!function(e,t){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)t(require("ractive"));else if("function"==typeof define&&define.amd)define(["ractive"],t);else{if(!e.Ractive)throw new Error("Could not find Ractive! It must be loaded before the ractive-events-typing plugin");t(e.Ractive)}}("undefined"!=typeof window?window:this,function(e){"use strict";var t=function(e,t){var n,i=0==={inputtext:0,input:0,textareatextarea:0}[[(e.tagName||"").toLowerCase(),(e.type||"").toLowerCase()].join("")]||"undefined"!=typeof e.contentEditable;try{document.createEvent("TouchEvent"),n=1e3}catch(o){n=500}if(i){var r,a=null,d=function(e){var i=this;clearTimeout(a),(void 0===r||r===!0)&&t({node:i,original:e,typingState:"typing",sourceKey:"paste"===e.type?"paste":"typed"}),r=!1,a=setTimeout(function(){r=!0,t({node:i,original:e,typingState:"paused"})},n)},s=function(e){[8,46].indexOf(e.keyCode)>-1&&d.call(this,e)},u=function(e){a&&clearTimeout(a),t({node:this,original:e,typingState:"stopped"}),r=void 0},f=function(e){t({node:this,original:e,typingState:"beforetyping"})};e.addEventListener("focus",f),e.addEventListener("keypress",d),e.addEventListener("keydown",s),e.addEventListener("paste",d),e.addEventListener("blur",u)}return{teardown:function(){e.removeEventListener("focus",f),e.removeEventListener("keypress",d),e.removeEventListener("keydown",s),e.removeEventListener("paste",d),e.removeEventListener("blur",u)}}};e.events.typing=t});
